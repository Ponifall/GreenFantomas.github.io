<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1"
      crossorigin="anonymous"
    />

    <style>
      html {
        position: relative;
        min-height: 100%;
      }
      body {
        margin-bottom: 80px; /* Margin bottom by footer height */
      }
      .footer {
        position: absolute;
        bottom: 0;
        width: 100%;
        /*height: 60px; /* Set the fixed height of the footer here */
        line-height: 60px; /* Vertically center the text there */
        background-color: #f5f5f5;
      }
    </style>
    <title>Шпоргалка информатика</title>
  </head>
  <body>
    <main class="container">
      <div class="text-center py-5 px-3">
        <h1>Сессия по информатике</h1>
        <p class="lead">Шпоры и калькуляторы для сдачи инфы.<br /></p>
      </div>

      <div class="row gy-5">
        <div>
          <div class="row">
            <h2>Двоичное кодирование</h2>
            <div class="col">
              <div class="card">
                <div class="card-body">
                  <p class="card-text">
                    Минимальное кол-во битов для описания всех K состояний
                    системы применяется формула
                    <mark>N = log<sub>2</sub>K</mark>.
                  </p>
                  <div class="row">
                    <div class="col-md-6">
                      <div class="input-group">
                        <span class="input-group-text">K</span>
                        <input type="text" class="form-control" id="logK" />
                      </div>
                    </div>

                    <div class="col-md-3">
                      <div class="input-group">
                        <span class="input-group-text">N</span>
                        <input
                          id="logKN"
                          type="text"
                          class="form-control"
                          readonly="readonly"
                        />
                      </div>
                    </div>

                    <div class="col-md-3">
                      <div class="input-group">
                        <span class="input-group-text"
                          >Кол-во бит для кодирования</span
                        >
                        <input
                          id="logKNAnswer"
                          type="text"
                          class="form-control"
                          readonly="readonly"
                        />
                      </div>
                      <div class="form-text">
                        Данное округлённое в большую сторону значение идёт в
                        <b>ответ</b>.
                      </div>
                    </div>
                  </div>
                  <button
                    id="encodeBits"
                    class="btn btn-primary"
                    onclick="calcLog2()"
                  >
                    Вычислить
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div>
          <div class="row">
            <h2>Таблица ASCII</h2>
            <!-- char to ASCII-->
            <div class="col">
              <div class="card h-100">
                <div class="card-body">
                  <h5 class="card-title">ASCII код символа</h5>
                  <div class="row g-3">
                    <div class="col-12">
                      <label for="charToAscii" class="form-label">Символ</label>
                      <input
                        type="text"
                        maxlength="1"
                        class="form-control"
                        id="charToAscii"
                      />
                      <div class="form-text">
                        Символ для получения ascii кода
                      </div>
                    </div>

                    <div class="col-md-6">
                      <div class="input-group">
                        <span class="input-group-text">#</span>
                        <input
                          id="asciiNum"
                          type="text"
                          class="form-control"
                          readonly="readonly"
                        />
                      </div>
                      <div class="form-text">
                        Номер символа в ascii таблице.
                      </div>
                    </div>
                    <div class="col-md-6">
                      <div class="input-group">
                        <span class="input-group-text">HEX</span>
                        <input
                          id="asciiHex"
                          type="text"
                          class="form-control"
                          readonly="readonly"
                        />
                      </div>
                      <div class="form-text">
                        Шестнадцатеричный номер в ascii таблице. Идёт в
                        <b>ответ</b>.
                      </div>
                    </div>
                    <br />
                    <button
                      type="submit"
                      class="btn btn-primary"
                      onclick="getAsciiCode()"
                    >
                      Перевести
                    </button>
                  </div>
                </div>
              </div>
            </div>

            <!--ASCII to char-->
            <div class="col">
              <div class="card h-100">
                <div class="card-body h-100 d-flex flex-column">
                  <h5 class="card-title">Символ по коду ASCII</h5>

                  <div class="row g-3">
                    <div class="col-md-6">
                      <label for="numToAscii" class="form-label"
                        >Номер символа</label
                      >
                      <input id="numToAscii" type="text" class="form-control" />
                      <div class="form-text">
                        Номер символа в таблице ascii либо
                      </div>
                    </div>
                    <div class="col-md-6">
                      <label for="hexToAscii" class="form-label"
                        >HEX символа</label
                      >
                      <input id="hexToAscii" type="text" class="form-control" />
                      <div class="form-text">hex символа</div>
                    </div>

                    <div class="col-12">
                      <input
                        type="text"
                        class="form-control"
                        id="asciiChar"
                        readonly="readonly"
                      />
                      <div class="form-text">
                        Символ по коду ASCII.<br />Идёт в <b>ответ</b>.
                      </div>
                    </div>

                    <br />
                    <button
                      type="submit"
                      class="btn btn-primary"
                      onclick="getCharFromASCII()"
                    >
                      Перевести
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div>
          <div class="row">
            <h2>Расстояние между кодами</h2>
            <div class="col">
              <div class="card">
                <div class="card-body">
                  <p class="card-text">
                    Расстояние Хэмминга — число позиций, в которых
                    соответствующие символы двух слов <b>одинаковой</b> длины
                    различны.
                  </p>

                  <div class="row g-1">
                    <div class="col">
                      <div class="input-group">
                        <span class="input-group-text">N<sub>1</sub></span>
                        <input
                          id="deltaInput1"
                          type="text"
                          class="form-control"
                          onchange="calcDelta()"
                        />
                      </div>
                    </div>
                    <div class="col">
                      <div class="input-group">
                        <span class="input-group-text">N<sub>2</sub></span>
                        <input
                          id="deltaInput2"
                          type="text"
                          class="form-control"
                          onchange="calcDelta()"
                        />
                      </div>
                    </div>
                    <div class="col">
                      <div class="input-group">
                        <span class="input-group-text">ΔN</span>
                        <input
                          id="delta"
                          type="text"
                          class="form-control"
                          readonly="readonly"
                        />
                      </div>
                    </div>
                  </div>

                  <div
                    class="toast hide"
                    role="alert"
                    aria-live="assertive"
                    aria-atomic="true"
                    id="deltaError-toast"
                    style="margin-top: 10px"
                  >
                    <div class="toast-header">
                      <strong class="me-auto">Ошибка ввода</strong>
                      <button
                        type="button"
                        class="btn-close"
                        data-bs-dismiss="toast"
                        aria-label="Close"
                      ></button>
                    </div>
                    <div class="toast-body">Длинна кодов должна совпадать.</div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div>
          <div class="row">
            <h2>Утроение символов сообщения</h2>
            <div class="col">
              <div class="card">
                <div class="card-body">
                  <p class="card-text">
                    Один из видов кодов с исправлением ошибки. Применяется путём
                    утроения каждого символа в сообщение, что позволяет избежать
                    ошибки при частичной потере. При декодировании берётся
                    цифра, кол-во которой больше всего в "тройке".
                  </p>

                  <label for="stringToDecodeThree" class="form-label"
                    >Строка для декодирования</label
                  >
                  <input
                    type="text"
                    class="form-control"
                    id="stringToDecodeThree"
                  />
                  <div class="form-text">
                    Ввод должен содержать только символы "1" либо "0" и быть
                    кратным 3.
                  </div>

                  <div
                    class="toast hide"
                    role="alert"
                    aria-live="assertive"
                    aria-atomic="true"
                    id="decodeThreeBits-toast"
                  >
                    <div class="toast-header">
                      <strong class="me-auto">Ошибка ввода</strong>
                      <button
                        type="button"
                        class="btn-close"
                        data-bs-dismiss="toast"
                        aria-label="Close"
                      ></button>
                    </div>
                    <div class="toast-body">
                      Кол-во символов должно быть кратно 3.
                    </div>
                  </div>

                  <div class="input-group">
                    <span class="input-group-text"
                      >Декодированное сообщение</span
                    >
                    <input
                      id="decodedThreeBits"
                      type="text"
                      class="form-control"
                      readonly="readonly"
                    />
                  </div>
                  <div class="form-text">Идёт в <b>ответ</b>.</div>

                  <div class="control-group">
                    <button
                      type="submit"
                      class="btn btn-primary"
                      onclick="decodeThreeBits()"
                    >
                      Декодировать
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div>
          <div class="row">
            <h2>Энтропия информации</h2>
            <div class="col">
              <div class="card">
                <div class="card-body">
                  <p class="card-text">
                    Под энтропией понимается мера неопределенности системы.
                    Частная энтропия по Шеннону <var>h</var> определяется по
                    формуле
                    <mark
                      ><var>h</var> = -<var>p<sub>i</sub></var
                      >*log<sub>2</sub><var>p<sub>i</sub></var></mark
                    >
                    где <var>p<sub>i</sub></var> - вероятность нахождения
                    системы в состоянии, для которого рассчитывается энтропия.
                    Общей энтропией называется сумма всех энтропий системы.
                  </p>

                  <label
                    for="entropyStatus"
                    class="form-label"
                    id="entropyStatusLable"
                    >Кол-во состояний</label
                  >
                  <input
                    type="range"
                    class="form-range"
                    min="1"
                    max="8"
                    step="1"
                    id="entropyStatus"
                    onchange="showEntropyNumber()"
                  />
                  <div class="row g-1" id="entropyRow"></div>

                  <div class="row g-1" style="margin-top: 10px">
                    <div class="col">
                      <div class="input-group">
                        <span class="input-group-text">H</span>
                        <input
                          id="allEntropy"
                          type="text"
                          class="form-control"
                          readonly="readonly"
                        />
                      </div>
                      <div class="form-text">Идёт в <b>ответ</b>.</div>
                    </div>
                    <div class="col">
                      <button
                        class="btn btn-primary"
                        onclick="calcAllEntropy()"
                      >
                        Вычислить общую энтропию
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!--Notation coding-->
        <div>
          <div class="row">
            <h2>Системы счисления</h2>
            <div class="col-md-6">
              <div class="card">
                <div class="card-body">
                  <h5 class="card-title">
                    Перевод числа в различные системы счисления
                  </h5>
                  <div id="notationRow"></div>
                </div>
              </div>
            </div>
            <div class="col-md-6">
              <div class="card">
                <div class="card-body">
                  <h5 class="card-title">Поиск оснований</h5>
                  <p class="card-text">
                    Поиск оснований систем счислений, в которых заданное число
                    <var>N</var> <b>оканчивается</b> на заданную цифру
                    <var>T</var>.
                  </p>
                  <div class="row">
                    <div class="col-3">
                      <div class="input-group">
                        <span class="input-group-text">N</span>
                        <input
                          id="notationN"
                          type="text"
                          class="form-control"
                        />
                      </div>
                    </div>
                    <div class="col-3">
                      <div class="input-group">
                        <span class="input-group-text">T</span>
                        <input
                          id="notationT"
                          type="text"
                          class="form-control"
                        />
                      </div>
                    </div>
                    <div class="col-6">
                      <div class="input-group">
                        <span class="input-group-text">Основания</span>
                        <input
                          id="notations"
                          type="text"
                          class="form-control"
                          readonly="readonly"
                        />
                      </div>
                    </div>
                  </div>
                  <button
                    class="btn btn-primary"
                    onclick="calcNotations()"
                    style="margin-top: 10px"
                  >
                    Найти основания
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>

    <footer class="footer">
      <div class="container">
        <span class="text-muted"
          >Собственность группы РКБО-01-20. Изготовил сие поделие
          <a
            style="text-decoration: none"
            href="https://github.com/GreenFantomas"
            >GreenFantomas</a
          ></span
        >
      </div>
    </footer>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW"
      crossorigin="anonymous"
    ></script>

    <script src="math.js"></script>
    <script>
      entropyVerElement = `<div class="col-md-6">
                        <div class="input-group">
                          <span class="input-group-text"
                            ><var>p<sub>X</sub></var></span
                          >
                          <input
                            id="entropyX"
                            type="text"
                            class="form-control"
                            onchange="countPrivateEntropy(X)"
                          />
                        </div>
                      </div>
                      <div class="col-md-6">
                        <div class="input-group">
                          <span class="input-group-text"><var>h<sub>X</sub></var></span>
                          <input
                            id="entropyHX"
                            type="text"
                            class="form-control"
                            readonly="readonly"
                          />
                        </div>
                      </div>`;

      notationElement = `
                      <div class="input-group" style="margin-bottom: 2px">
                        <span class="input-group-text" style="width: 50px">N<sub>X</sub></span>
                        <input
                          id="notationX"
                          type="text"
                          class="form-control"
                          oninput="calcNotation(this)"
                        />
                      </div>`;

      //Generate notationElements
      console.log(notationBases);
      for (i = 0; i < notationBases.length; i++) {
        $("#notationRow").html(
          $("#notationRow").html() +
            notationElement.replaceAll("X", notationBases[i])
        );
      }

      function showEntropyNumber() {
        $("#entropyRow").html("");
        $("#entropyStatusLable").text(
          "Кол-во состояний: " + $("#entropyStatus").val()
        );

        for (i = 0; i < $("#entropyStatus").val(); i++) {
          $("#entropyRow").html(
            $("#entropyRow").html() + entropyVerElement.replaceAll("X", i + 1)
          );
        }
      }

      function countPrivateEntropy(index) {
        p = $("#entropy" + index).val();
        $("#entropyH" + index).val(entropy(p));
      }

      function calcAllEntropy() {
        sum = 0;
        for (i = 1; i <= $("#entropyStatus").val(); i++) {
          sum += parseFloat($("#entropyH" + i).val());
        }
        $("#allEntropy").val(sum);
      }
    </script>
  </body>
</html>
