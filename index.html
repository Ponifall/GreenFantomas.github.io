<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1"
      crossorigin="anonymous"
    />

    <title>Шпаргалка информатика</title>
  </head>
  <body>
    <main class="container">
      <div class="text-center py-5 px-3">
        <h1>Сессия по информатике</h1>
        <p class="lead">Шпоры и калькуляторы для сдачи инфы.<br /></p>
      </div>

      <div class="row gy-5">
        <div>
          <div class="row">
            <h2>Двоичное кодирование</h2>
            <div class="col">
              <div class="card">
                <div class="card-body">
                  <p class="card-text">
                    Минимальное кол-во битов для описания всех K состояний
                    системы применяется формула
                    <mark>N = log<sub>2</sub>K</mark>.
                  </p>
                  <div class="row">
                    <div class="col-md-6">
                      <div class="input-group">
                        <span class="input-group-text">K</span>
                        <input type="text" class="form-control" id="logK" />
                      </div>
                      <div class="form-text">
                        Символ для получения ascii кода
                      </div>
                    </div>

                    <div class="col-md-3">
                      <div class="input-group">
                        <span class="input-group-text">N</span>
                        <input
                          id="logKN"
                          type="text"
                          class="form-control"
                          readonly="readonly"
                        />
                      </div>
                    </div>

                    <div class="col-md-3">
                      <div class="input-group">
                        <span class="input-group-text"
                          >Кол-во бит для кодирования</span
                        >
                        <input
                          id="logKNAnswer"
                          type="text"
                          class="form-control"
                          readonly="readonly"
                        />
                      </div>
                      <div class="form-text">
                        Данное округлённое в большую сторону значение идёт в
                        <b>ответ</b>.
                      </div>
                    </div>
                  </div>
                  <button
                    id="encodeBits"
                    class="btn btn-primary"
                    onclick="calcLog2()"
                  >
                    Вычислить
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div>
          <div class="row">
            <h2>Таблица ASCII</h2>
            <!-- char to ASCII-->
            <div class="col">
              <div class="card h-100">
                <div class="card-body">
                  <h5 class="card-title">ASCII код символа</h5>
                  <div class="row g-3">
                    <div class="col-12">
                      <label for="charToAscii" class="form-label">Символ</label>
                      <input
                        type="text"
                        maxlength="1"
                        class="form-control"
                        id="charToAscii"
                      />
                      <div class="form-text">
                        Символ для получения ascii кода
                      </div>
                    </div>

                    <div class="col-md-6">
                      <div class="input-group">
                        <span class="input-group-text">#</span>
                        <input
                          id="asciiNum"
                          type="text"
                          class="form-control"
                          readonly="readonly"
                        />
                      </div>
                      <div class="form-text">
                        Номер символа в ascii таблице.
                      </div>
                    </div>
                    <div class="col-md-6">
                      <div class="input-group">
                        <span class="input-group-text">HEX</span>
                        <input
                          id="asciiHex"
                          type="text"
                          class="form-control"
                          readonly="readonly"
                        />
                      </div>
                      <div class="form-text">
                        Шестнадцатеричный номер в ascii таблице. Идёт в
                        <b>ответ</b>.
                      </div>
                    </div>
                    <br />
                    <button
                      type="submit"
                      class="btn btn-primary"
                      onclick="getAsciiCode()"
                    >
                      Перевести
                    </button>
                  </div>
                </div>
              </div>
            </div>

            <!--ASCII to char-->
            <div class="col">
              <div class="card h-100">
                <div class="card-body h-100 d-flex flex-column">
                  <h5 class="card-title">Символ по коду ASCII</h5>

                  <div class="row g-3">
                    <div class="col-md-6">
                      <label for="numToAscii" class="form-label"
                        >Номер символа</label
                      >
                      <input id="numToAscii" type="text" class="form-control" />
                      <div class="form-text">
                        Номер символа в таблице ascii либо
                      </div>
                    </div>
                    <div class="col-md-6">
                      <label for="hexToAscii" class="form-label"
                        >HEX символа</label
                      >
                      <input id="hexToAscii" type="text" class="form-control" />
                      <div class="form-text">hex символа</div>
                    </div>

                    <div class="col-12">
                      <input
                        type="text"
                        class="form-control"
                        id="asciiChar"
                        readonly="readonly"
                      />
                      <div class="form-text">
                        Символ по коду ASCII.<br />Идёт в <b>ответ</b>.
                      </div>
                    </div>

                    <br />
                    <button
                      type="submit"
                      class="btn btn-primary"
                      onclick="getCharFromASCII()"
                    >
                      Перевести
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div>
          <div class="row">
            <h2>Утроение символов сообщения</h2>
            <div class="col">
              <div class="card">
                <div class="card-body">
                  <p class="card-text">
                    Один из видов кодов с исправлением ошибки. Применяется путём
                    утроения каждого символа в сообщение, что позволяет избежать
                    ошибки при частичной потере. При декодировании берётся
                    цифра, кол-во которой больше всего в "тройке".
                  </p>

                  <label for="stringToDecodeThree" class="form-label"
                    >Строка для декодирования</label
                  >
                  <input
                    type="text"
                    class="form-control"
                    id="stringToDecodeThree"
                  />
                  <div class="form-text">
                    Ввод должен содержать только символы "1" либо "0" и быть
                    кратным 3.
                  </div>

                  <div
                    class="toast hide"
                    role="alert"
                    aria-live="assertive"
                    aria-atomic="true"
                    id="decodeThreeBits-toast"
                  >
                    <div class="toast-header">
                      <strong class="me-auto">Ошибка ввода</strong>
                      <button
                        type="button"
                        class="btn-close"
                        data-bs-dismiss="toast"
                        aria-label="Close"
                      ></button>
                    </div>
                    <div class="toast-body">
                      Кол-во символов должно быть кратно 3.
                    </div>
                  </div>

                  <div class="input-group">
                    <span class="input-group-text"
                      >Декодированное сообщение</span
                    >
                    <input
                      id="decodedThreeBits"
                      type="text"
                      class="form-control"
                      readonly="readonly"
                    />
                  </div>
                  <div class="form-text">Идёт в <b>ответ</b>.</div>

                  <div class="control-group">
                    <button
                      type="submit"
                      class="btn btn-primary"
                      onclick="decodeThreeBits()"
                    >
                      Декодировать
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW"
      crossorigin="anonymous"
    ></script>

    <script>
      function calcLog2() {
        k = $("#logK").val();
        $("#logKN").val(Math.log2(k));
        $("#logKNAnswer").val(Math.ceil(Math.log2(k)));
      }

      function getAsciiCode() {
        var char = $("#charToAscii").val();
        $("#asciiNum").val(char.charCodeAt(0));
        $("#asciiHex").val(char.charCodeAt(0).toString(16));
      }

      function getCharFromASCII() {
        var num = $("#numToAscii").val();
        var hex = $("#hexToAscii").val();
        if (num != "") {
          $("#asciiChar").val(String.fromCharCode(num));
        } else {
          $("#asciiChar").val(String.fromCharCode(parseInt(hex, 16)));
        }
      }

      function decodeThreeBits() {
        str = $("#stringToDecodeThree").val();
        if (str.length % 3 != 0) {
          $("#decodeThreeBits-toast").toast("show");
          return;
        }

        blocks = [];
        final = "";
        for (i = 0; i < str.length; i++) {
          if (i % 3 == 0) {
            blocks[i / 3] = "";

            if (i > 0) {
              final +=
                blocks[i / 3 - 1].split("0").length - 1 >
                blocks[i / 3 - 1].split("1").length - 1
                  ? "0"
                  : "1";
            }
          }

          blocks[Math.floor(i / 3)] += str[i];
        }
        final +=
          blocks[blocks.length - 1].split("0").length - 1 >
          blocks[blocks.length - 1].split("1").length - 1
            ? "0"
            : "1";
        $("#decodedThreeBits").val(final);
      }
    </script>
  </body>
</html>
